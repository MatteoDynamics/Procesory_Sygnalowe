var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(h){return h.raw=h};$jscomp.createTemplateTagFirstArgWithRaw=function(h,g){h.raw=g;return h};$jscomp.arrayIteratorImpl=function(h){var g=0;return function(){return g<h.length?{done:!1,value:h[g++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}};$jscomp.makeIterator=function(h){var g="undefined"!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return g?g.call(h):$jscomp.arrayIterator(h)};
$jscomp.arrayFromIterator=function(h){for(var g,l=[];!(g=h.next()).done;)l.push(g.value);return l};$jscomp.arrayFromIterable=function(h){return h instanceof Array?h:$jscomp.arrayFromIterator($jscomp.makeIterator(h))};
var getsw_temp_interval,gscontents,licenseAcceptClicked,LINK="link",FORM="form",PAGE="page",FAILED_DOWNLOAD="failedDownload",MKTO_LIGHT_INITIATED_SW_FORM="marketo-light-initiated-sw-form",MKTO_LMU_INITIATED_SW_FORM="marketo-lmu-initiated-sw-form",LIGHT_REGISTRATION_TYPE="lightRegistration",FULL_REGISTRATION_TYPE="mySTNoValidation",LMU_REGISTRATION_TYPE="lmuRequired",OPTIN_EMAIL_FLAG="iOptinEmail",productCookieName="gSProduct",licenseCookieName="gSLicense",versionCookieName="gSVersion",isDevzonePattern=
/^\/content\/st_com\/(en|ja|zh)\/(stm32cubemx|stm32cubeide)(\.html)?$/,isPublishInstance=window.location.href.includes("publish"),loadTable=setInterval(function(){0<$("#software-grid_wrapper").find(".buttons.st-flex.st-flex--all-column").length&&(window.dispatchEvent(new Event("resize")),clearInterval(loadTable))},500),getCPNSoftware=function(){var h=[];$("a[data-id]").filter(".st-magento.table-button-blue").each(function(){var g=$(this).attr("data-id");-1==h.indexOf(g)&&h.push(g)});return h},setupRestrictedModalTemp=
function(){if(0===$(".getsw_modal_temp").length){var h='\x3cdiv class\x3d"getsw_modal_temp" style\x3d"display: block;"\x3e\n  \x3cdiv class\x3d"modal-open modal"\x3e\n    \x3cdiv class\x3d"getsw_modal_temp_close" style\x3d"display: block;"\x3ex\x3c/div\x3e\n    \x3cdiv class\x3d"getsw_modal_temp_text" style\x3d"display: block;"\x3e\n      \x3cdiv class\x3d"popup-title"\x3e'+STFED.notAvailableForDownloadText+'\x3c/div\x3e      \x3cdiv class\x3d"button-row"\x3e\n        \x3cbutton class\x3d"getsw_modal_temp_button_close" href\x3d"#" data-dismiss\x3d"modal"\x3eok\x3c/button\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e';
$("body").append(h);$(".getsw_modal_temp_close").on("click",function(){$(".getsw_modal_temp").hide()});$(".getsw_modal_temp_button_close").on("click",function(){$(".getsw_modal_temp").hide()})}else $(".getsw_modal_temp").show()},setupRestrictedButton=function(h){h.each(function(g,l){g=l.dataset.softwareOs;var u=l.dataset.softwareRelease,p=l.dataset.softwarePrmisId,w=l.dataset.softwareRelease;$(l).replaceWith('\x3ca target\x3d"_blank" class\x3d"st-button table-button-grey-disabled" data-software-os\x3d"'+
g+'" data-software-release\x3d"'+u+'"data-id\x3d"'+p+'" data-version\x3d"'+w+'"\x3e'+Granite.I18n.get("Not available for download")+"\x3c/a\x3e")});$(".st-button.table-button-grey-disabled").on("click",function(){setupRestrictedModalTemp()})},checkRestriction=function(){window.STFED="undefined"===typeof STFED?{}:STFED;if("undefined"===typeof STFED.ipAddress||0===STFED.ipAddress.length||"undefined"===typeof STFED.ifCountryRestricted||0===STFED.ifCountryRestricted.length||"undefined"!==typeof STFED.notAvailableForDownloadText&&
0===STFED.notAvailableForDownloadText.length||"undefined"===typeof STFED.ipGeolocatedCountry||0===STFED.ipGeolocatedCountry.length){var h=getCPNSoftware();$.ajax({url:"/bin/st/geolocation/ip/restrictions",type:"POST",data:{CPNs:h,type:"GET_SOFTWARE"},async:!1,success:function(g){null!==g&&""!==g&&(g=JSON.parse(g),STFED.ipAddress=g.clientIP,STFED.ifCountryRestricted=g.ifCountryRestricted,STFED.notAvailableForDownloadText=g.softwareNotAvailableForDownload,STFED.ipGeolocatedCountry=g.country)},error:function(g){403===
g.status&&(STFED.isMaliciousVPN=!0)}})}},geoLocationCheck=function(h){var g=function(l){checkRestriction();if(STFED.isMaliciousVPN&&!isDevzonePattern.test(window.location.pathname))$("#maliciousVPN").modal("show"),$(".getsw_modal_temp").hide();else{STFED.generalCountryCheckDone||void 0===STFED.ifCountryRestricted||(Object.keys(STFED.ifCountryRestricted).forEach(function(p){var w=$("[class*\x3d'getsw_button_temp_'][data-id\x3d'"+p+"']"),x=$(".js-get-software-restricted-check[data-id\x3d'"+p+"']"),
G=$(".js-get-software-restricted-check[data-software-prmis-id\x3d'"+p+"']");STFED.ifCountryRestricted[p]?0===w.length&&setupRestrictedButton(G):(w.remove(),x.css("display","block"),G.css("display","block"),p=$(".js-get-software-restricted-check[data-id\x3d'"+p+"']").closest("tr"),p.find(".getsw_selectmenu_temp_init .msw-selectversionbutton.js-get-software-restricted-check").css("display","block"),p.find(".getsw_selectmenu_temp_init").find("[class*\x3d'getsw_button_temp_']").remove())}),$(".getsw_modal_temp").hide(),
STFED.generalCountryCheckDone=!0);if(!STFED.ifCountryRestricted[l]&&0!=$("[class*\x3d'getsw_button_temp_'][data-id\x3d'"+l+"']").length){$(".getsw_modal_temp").hide();$("[class*\x3d'getsw_button_temp_'][data-id\x3d'"+l+"']").remove();$(".js-get-software-restricted-check[data-id\x3d'"+l+"']").css("display","block");$(".js-get-software-restricted-check[data-software-prmis-id\x3d'"+l+"']").css("display","block");var u=$(".js-get-software-restricted-check[data-id\x3d'"+l+"']").closest("tr");u.find(".getsw_selectmenu_temp_init .msw-selectversionbutton.js-get-software-restricted-check").css("display",
"block");u.find(".getsw_selectmenu_temp_init").find("[class*\x3d'getsw_button_temp_']").remove();$(".table-sample-and-buy").find("tbody tr.parent .modal").each(function(p,w){var x=$(w).closest(".gscontent").attr("gs-modal-closest-gscontent-index");x?$(w).attr("gs-moved-modal-index",x):($(w).closest(".gscontent").attr("gs-modal-closest-gscontent-index",p),$(w).attr("gs-moved-modal-index",p));$(w).appendTo("body")});$(".js-get-software-restricted-check[data-software-prmis-id\x3d'"+l+"']").eq(0).click()}STFED.ifCountryRestricted[l]&&
($(".js-get-software-restricted-check[data-id\x3d'"+l+"']").remove(),$(".getsw_modal_temp").show(),$(".getsw_modal_temp_close").on("click",function(){$(".getsw_modal_temp").hide()}),$(".getsw_modal_temp_button_close").on("click",function(){$(".getsw_modal_temp").hide()}),$(".getsw_modal_temp .st-loading-spinner").remove(),$(".getsw_modal_temp_close").show(),$(".getsw_modal_temp_text").show(),$(".getsw_modal_temp_text .popup-title").text(Granite.I18n.get(STFED.notAvailableForDownloadText)))}};g(h);
$(".table-sample-and-buy.dt-responsive").click(function(l){var u=$(l.target).data("id");u||(u=$(l.target).closest(".getsw_selectmenu_temp_init").find(".gscontent").eq(0).data("sw-id"));checkRestriction();g(u)})},getsw_getGsContent=function(h){var g=h.closest(".gscontent");g.length||(g=$("[gs-modal-closest-gscontent-index\x3d'"+$(h).closest(".modal").attr("gs-moved-modal-index")+"']"));return g},windowOnloadGetSwFn,softwareProductParameterInterval,getsw_setup=function(){function h(a,b){D.init.downloadPath=
a;D.init.version=b;$(window).trigger(D.init)}function g(a,b){D.start.downloadPath=a;D.start.version=b;$(window).trigger(D.start)}function l(a){return-1<W3C.CookieFunctions.getCookieWithoutValidation("emailSent").indexOf("emailHasBeenSent_"+a)}function u(a,b){var c=a.find("#initLightDownload").data("id"),d=a.find("#dlLink").data("download-path");if(void 0!==c&&""!==c&&void 0!==d&&""!==d){var f=W3C.CookieFunctions.getCookieWithoutValidation("statusDownload");a.data("product-item-name");"second_download_form_submitted"!==
f||null===localStorage.getItem("formData")?b={prmisId:c,softwaredownloadsource:b,softwaredownloadurl:d}:(f=JSON.parse(localStorage.getItem("formData")),b={softwaredownloadsource:b,sendEmail:!1,prmisId:c,softwaredownloadurl:d,softwaredownloadproductpreference:f.keepMeInformed},b[OPTIN_EMAIL_FLAG]=b.softwaredownloadproductpreference);x(a,b,null)}}function p(a){var b=a.find("#initDownload").data("id"),c=a.find("#dlLink").data("download-path");void 0!==b&&""!==b&&void 0!==c&&""!==c&&(ea(b),x(a,{prmisId:b,
manuallyValidated:!0,softwaredownloadislmu:!0,softwaredownloadurl:c},null))}function w(a,b,c){b=b||{};b=S(b,a,c);return null===b?null:JSON.parse(CustomActivities.getCustomActivityData(b))}function x(a,b,c){b=w(a,b,c);if(null!==b){if(b.softwaredownloadsource===LINK&&b.softwaredownloadproductpreference){var d={email:b.Email,prmisId:a.data("product-id")?a.data("product-id"):a.data("swId"),keepInformed:b.softwaredownloadproductpreference,customObjectData:CustomActivities.getCustomActivityData()};fa(d)}K(b);
ha(a,c,b)}}function G(a){L++;var b=a.data("user-email")||window.searchUserEmail||$(".email_profile").attr("id")||W3C.CookieFunctions.getCookieWithoutValidation("getSwEmail");if(b&&10>=L)return console.log("Email found:",b),b;10>L?setTimeout(function(){G(a)},1E3):console.log("Stopped after 10 attempts. Email not found.");return null}function S(a,b,c){var d=G(b);if(void 0===d||""===d)return null;(new Date).toJSON();var f=STUtils.getBrowserInfo();switch(a.softwaredownloadsource){case FORM:var m="Captured";
break;case FAILED_DOWNLOAD:m="Pop-up displayed";break;default:m="Download Started"}a.Email=d;c===MKTO_LIGHT_INITIATED_SW_FORM&&(a.FirstName=W3C.CookieFunctions.getCookieWithoutValidation("firstName"),a.LastName=W3C.CookieFunctions.getCookieWithoutValidation("familyName"));a.softwareRelease=b.data("software-release");a.prmisId=a.prmisId||b.data("software-prmis-id");a.touFlag=a.touFlag||!0;a.licenseReference=b.data("license-id");a.manuallyValidated=a.manuallyValidated||!1;a.softwaredownloadsource=a.softwaredownloadsource||
"";a.softwaredownloadipaddress=STFED.ipAddress;a.softwaredownloadipgeolocatedcountry=STFED.ipGeolocatedCountry;a.softwaredownloadbrowsername=f.name;a.softwaredownloadbrowserversion=f.version;a.softwaredownloadrequestStatus=m;a.sendEmail=a.sendEmail||!1;a.softwaredownloadurl=a.softwaredownloadurl||"";a.softwaredownloadproductpreference=a.softwaredownloadproductpreference||b.data("keep-informed")||!1;a.softwaredownloadgendescription=b.data("software-description");a.softwaredownloadMarketingstatus=b.data("software-marketing-status");
a.softwaredownloadsupplier=b.data("software-supplier");a.softwaresupporteddevices=b.data("software-supported-devices");a.softwaredownloadislmu=a.softwaredownloadislmu||!1;a.softwareNameTitle=b.data("product-item-name");a.CPNDescription=b.data("product-item-name");-1!==a.prmisId.indexOf("CP")&&(a.CPNID=a.prmisId);return a}function K(a){if("undefined"!==typeof STFED.ifCountryRestricted[a.prmisId]&&STFED.ifCountryRestricted[a.prmisId])return!1;$.ajax({type:"POST",url:"/bin/st/push-custom-object",async:!1,
data:{userEmail:a.Email,prmisId:a.prmisId,softwareVersion:a.softwareRelease,customObject:JSON.stringify(a)}})}function ha(a,b,c){if("undefined"!==typeof STFED.ifCountryRestricted[c.prmisId]&&STFED.ifCountryRestricted[c.prmisId])return!1;if(null===b){if(c.softwaredownloadsource!==FAILED_DOWNLOAD&&c.softwaredownloadsource!==FORM&&"undefined"!==typeof c.softwaredownloadurl&&null!==c.softwaredownloadurl&&"undefined"!==typeof c.softwareRelease&&""!==c.softwareRelease){var d=function(){!m||"undefined"!==
typeof _satellite&&void 0!==_satellite._container?f():window.addEventListener("launchPreInit",function(){f()})},f=function(){digitalData.sofdlemref=c.softwaredownloadurl;h(c.softwaredownloadurl,c.softwareRelease);g(c.softwaredownloadurl,c.softwareRelease);M();STFED.getSoftware.downloaded=!0;"undefined"!==typeof decibelInsight&&decibelInsight("sendTrackedEvent","SW Download - API call");window.KAMPYLE_ONSITE_SDK&&"function"===typeof window.KAMPYLE_ONSITE_SDK.updatePageView&&window.KAMPYLE_ONSITE_SDK.updatePageView();
c.softwaredownloadurl.includes("STSW-AUTODEVKIT_SOFTWARE/files/stsw-autodevkit.zip/jcr:content/translations/en.stsw-autodevkit.zip")?isPublishInstance?setTimeout(function(){window.location.href="https://sw-center.st.com/swd/en.stsw-autodevkit.zip"},2E3):window.location.href="https://sw-center.st.com/swd/en.stsw-autodevkit.zip":isPublishInstance?setTimeout(function(){downloadS3SW(c.softwaredownloadurl)},2E3):downloadS3SW(c.softwaredownloadurl)};if("undefined"===typeof getCookieValue&&"function"===
typeof enableDownloadOnPublisher&&isPublishInstance)enableDownloadOnPublisher(),f();else{var m=getCookieValue.includes("C0002:1")&&getCookieValue.includes("C0004:1");window.STFED.trackingOptionsIsDefined?d():window.addEventListener("product-tracking-initialized",function(){d()})}}}else a=$('form input[type\x3d"hidden"][name*\x3d"nriched"]').toArray().reduce(function(k,r){r.value&&(k[r.name]=r.value);return k},{}),ia(b,c,a)}function ia(a,b,c){var d=0,f=setInterval(function(){d++;var m=ja(a);if("undefined"!==
typeof m&&null!==m||100<=d)100<=d?(console.error("Form '"+a+"' wasn't found on page!"),clearInterval(f)):(clearInterval(f),T[a]||(T[a]=!0,m.onSuccess(function(){$.ajax({type:"POST",url:"/bin/st/lmu-notification-email-servlet",data:{email:b.Email,productName:b.softwareNameTitle,locale:U()}}).done(function(k){console.log("Email notification sent successfully",k)}).fail(function(){console.error("Failed to send email notification")});return!1})),m.addHiddenFields(b),m.addHiddenFields(c),m.submit())},
100)}function ja(a){a=$("#"+a);if("undefined"===typeof a||null===a||0===a.length)return null;a=a.find(FORM);if("undefined"===typeof a||null===a||0===a.length)return null;a=a.attr("id");var b=a.lastIndexOf("_");a=MktoForms2.getForm(a.substring(b+1));return"undefined"!==typeof a&&null!==a?a:null}function fa(a){$.ajax({type:"POST",url:"/bin/st/submit-product-subscription",async:!0,data:a,success:function(b){V(b.preferencesIDs)},failure:function(){console.log("error while saving preferences to ks")}})}
function V(a){if(a){a=JSON.parse(a);for(var b in a){var c={productID:b,category:a[b].category,categoryDescription:a[b].itemName,sPreferenceSource:"software",additionDate:(new Date).toJSON()};CustomActivities.submitCustomActivity(CustomActivities.types.PRODUCT_PREFERENCE_TYPE,c,a[b].itemName)}}}function W(a){return-1<W3C.CookieFunctions.getCookieWithoutValidation("light_approvals").indexOf("light_registration_approved")?!0:a.data("approve-light-reg")?(W3C.CookieFunctions.setCookieWithoutOneTrustCheck("light_approvals",
"light_registration_approved",9),!0):!1}function N(){STUtils.deleteCookieByName(productCookieName);STUtils.deleteCookieByName(licenseCookieName);STUtils.deleteCookieByName(versionCookieName)}function O(a,b,c){$(a).html(b);c||(a.querySelector("#initLightDownload").style.display="block",a.querySelector(".gscontent").style.display="block");Array.from(a.querySelectorAll("script")).forEach(function(d){var f=document.createElement("script");Array.from(d.attributes).forEach(function(k){f.setAttribute(k.name,
k.value)});var m=document.createTextNode(d.innerHTML);f.appendChild(m);d.parentNode.replaceChild(f,d)})}function ka(a,b){[].concat($jscomp.arrayFromIterable(b.attributes)).forEach(function(c){a.setAttribute(c.nodeName,c.nodeValue)})}function la(a){var b,c;return a.length?""+(null==(b=a.data("product-url").match(/.+?(?=.html)/))?void 0:b[0])+"/_jcr_content/get-software/get-software-table-body.nocache.html/st-site-cx/components/containers/product/get-software-table-body.html":""+(null==(c=window.digitalData.page.pageInfo.destinationURL.match(/.+?(?=.html)/))?
void 0:c[0])+"/_jcr_content/mainParsys/stm32_software_downl/get-software.nocache.html/st-crew/components/editorial/stm32-software-downloads-body.html"}function X(){STUtils.deleteCookieByName("swdl");errorMsg=$("[data-i18n-gscontent-emailinvalid]").attr("data-i18n-gscontent-emailinvalid")||CQ.I18n.getMessage("Warning: your email address has not yet been validated.\x3cbr\x3ePlease validate it before proceeding with the download.");E.hasClass("in")||($(".gs-fail-dialog-msg").html(errorMsg),E.modal("toggle"))}
function ma(a,b){var c=$(".js-st-save-to-my-st"),d=0===c.length,f=W3C.CookieFunctions.getCookieWithoutValidation("getSwEmail"),m=W3C.CookieFunctions.getCookieWithoutValidation("software-version"),k=m?JSON.parse(m):null;c=la(c);dlParam&&c&&(f?(C=!0,f=a?""+c+a.replace("swdl","dl"):""+c+window.location.search.replace("swdl","dl"),jQuery.get(f,function(r){r=(new DOMParser).parseFromString(r,"text/html");r=d?r.querySelectorAll("table tbody tr"):r.querySelectorAll("table.get-software \x3e tbody \x3e tr");
!r.length||1<r.length?(X(),C=!1,swDownloadNotAvaible=!0):(swDownloadNotAvaible=!1,r.forEach(function(n,q){if(d){var t=n.querySelectorAll(".download_button"),v=n.querySelector("td:first-child").textContent;n=document.querySelectorAll(".stm32-software-downloads-container tbody tr");1<n.length&&[].concat($jscomp.arrayFromIterable(n)).findIndex(function(I){return I.querySelector("td:nth-child(1)").textContent===v});var y=n[0].querySelectorAll(".download_button");t.forEach(function(I,Y){console.log(y[Y],
I);O(y[Y],I.innerHTML,d)});setTimeout(function(){STFED.getSoftware.initSoftwareButtons(null,!0,a,b,d)},100)}else if(t=n.querySelector("[data-product-rpn]").getAttribute("data-product-rpn")){var A=n.querySelector("[data-product-rpn\x3d'"+t+"']").parentElement,z=document.querySelector("[data-product-rpn\x3d'"+t+"']").parentElement;n=z.querySelector(".buttons.st-flex.st-flex--all-column");var F=A.querySelector(".buttons.st-flex.st-flex--all-column");ka(n.querySelector(".gscontent"),F.querySelector(".gscontent"));
n.querySelector(".gscontent").dataset.initialized=!1;var H=z.querySelector(".msw-selectversionbutton-content");A=A.querySelector(".msw-selectversionbutton-content");n&&F&&O(n,F.innerHTML);H&&A&&O(H,A.innerHTML);k&&k.name===t&&k.version&&(b=k.version);setTimeout(function(){STFED.getSoftware.initSoftwareButtons(null,!0,a,b);$(".getsw_button_temp_"+q).length&&$(".getsw_button_temp_"+q).click();a&&$(z).find(".getsw_selectmenu_loading_temp").remove()},100)}}))})):(X(),C=!1,swDownloadNotAvaible=!0))}function M(){if("undefined"!==
typeof $(".solution-evaluation-kit-tab")[0]){var a=$("div[data-nav-tab-id\x3d2]");a.hasClass("js-st-active")||a.click()}}function na(a){return void 0!==a&&""!==a?(Date.now||(Date.now=function(){return(new Date).getTime()}),a+"\x3d"+Date.now()):""}function oa(a,b,c,d,f,m,k,r,n){function q(t){return t&&!!t.val()}a=[];q(b)||a.push(b);q(c)||a.push(c);q(d)||a.push(d);1===$("#defaultSubApplications").parent().filter(":visible").length||q(f)||a.push(f);q(m)||a.push(m);q(k)||a.push(k);q(r)||a.push(r);n&&
0<n.length&&n.is(":checked")||a.push(n);return a}function P(a){var b=$("#validationModal");0<b.find("form").length&&b.find("form")[0].reset();b.find(".email-success").css("display","none");b.find(".email-dialog-container").css("width","544px");b.find(".email-dialog-position").css("padding-bottom","calc(100% - 40%)");b.find(".email-dialog-position").css("padding-inline","55px");b.find(".light-registration-form").css("display","inherit");b.modal("toggle");var c=a.data("software-prmis-id");a=a.data("software-release");
b.attr("data-software-prmis-id",c);b.attr("data-software-release",a);var d=$("#userLMUApplication");d.hide();$("#userLMUTCAccept").attr("checked",!1);b=$("#validationSubmit");b.prop("disabled",!0);b.prop("title",b.attr("data-title"));b="/bin/st/lmu-sw-applications-info."+($("meta[name\x3d'Content-Language']").attr("content")||"en")+".json";void 0!=d&&0<d.length&&$.ajax(b).done(function(f){if(f&&f.applications){f=f.applications;d.append("\x3coption value\x3d''\x3e"+CQ.I18n.getMessage("Please choose an application")+
"\x3c/option\x3e");for(var m=0;m<f.length;m++){var k=f[m];k.text&&k.value&&d.append("\x3coption value\x3d'"+k.value+"'\x3e"+k.text+"\x3c/option\x3e");if(k.value&&k.subApplicationOptions){var r=k.subApplicationOptions;if(void 0!=r&&0<r.length){var n=k.value;n=n.substring(n.indexOf(",")+1,n.length);n=n.substring(0,n.indexOf(","));k="\x3cdiv class\x3d'sub-app-container' style\x3d'display:none;'\x3e";k+="\x3cselect id\x3d'"+n+"' required title\x3d'"+CQ.I18n.getMessage("Please select a sub-application")+
"'\x3e";k+="\x3coption value\x3d''\x3e"+CQ.I18n.getMessage("Please choose a sub-application")+"\x3c/option\x3e";for(n=0;n<r.length;n++){var q=r[n];q&&q.text&&q.value&&(k+="\x3coption value\x3d'"+q.value+"'\x3e"+q.text+"\x3c/option\x3e")}k+="\x3c/select\x3e";k+="\x3csmall class\x3d'error'\x3e"+CQ.I18n.getMessage("This field is required")+"\x3c/small\x3e";k+="\x3c/div\x3e";$("#userLMUSubApplication").append(k)}}}}}).fail(function(){});d.show();STFED.foundation.init()}function ea(a){"undefined"!==typeof STFED.ifCountryRestricted[a]&&
STFED.ifCountryRestricted[a]||$.ajax({url:"/bin/st/lmu-update-order",async:!0,type:"POST",dataType:"json",data:{prmisId:a}}).complete(function(){})}function Z(a,b){var c=b.data("emailModal").find("#userEmail");if(!pa(c))return c.attr("data-invalid",""),c.attr("aria-invalid","true"),!1;var d=b.data("emailModal").find(".email-validation-failure");d.css("display","none");var f=b.data("emailModal").find("#givenName"),m=b.data("emailModal").find("#familyName"),k=b.find("#gatherEmail");c=c.val();var r=
k.data("id"),n=k.data("path");f=f.val();var q=m.val();m=k.data("download-path-encrypted");if(void 0===c||void 0===r)return d.css("display","inherit"),a.preventDefault(),!0;W3C.CookieFunctions.setCookieWithoutOneTrustCheck("getSwEmail",c,9E3);W3C.CookieFunctions.setCookieWithoutOneTrustCheck("firstName",f,9E3);W3C.CookieFunctions.setCookieWithoutOneTrustCheck("familyName",q,9E3);d=b.data("product-item-name");f=b.data("emailModal").find("#keepMeInformed");W3C.CookieFunctions.setCookieWithoutOneTrustCheck("emailSent_"+
d,"emailHasBeenSent_"+d,1);var t={softwaredownloadsource:FORM,sendEmail:!0,softwaredownloadproductpreference:f.is(":checked")},v=w(b,t,MKTO_LIGHT_INITIATED_SW_FORM);if(null===v)return B(b),a.preventDefault(),!0;$.ajax({type:"POST",url:"/bin/st/dl-software-link",async:!1,data:{userEmail:c,id:r,path:n,downloadPathEncrypted:m,keepInformed:f.is(":checked"),akamaiCountryCode:$("#"+MKTO_LIGHT_INITIATED_SW_FORM).find('input[name\x3d"akamaiCountryCode"]').val(),mktoData:JSON.stringify(v),stFirstName:b.data("emailModal").find("#stFirstName").val(),
stLastName:b.data("emailModal").find("#stLastName").val()}}).done(function(y){y?void 0!==y.success?!0===y.success?(v[OPTIN_EMAIL_FLAG]=t.softwaredownloadproductpreference,K(v),b.data("emailModal").find(".descriptions").hide(),b.data("emailModal").find(".light-registration-form").css("display","none"),b.data("emailModal").find(".email-success").css("display","inherit"),b.data("emailModal").find(".email-dialog-container").css("width","794px"),b.data("emailModal").find(".email-dialog-position").css("padding-bottom",
"calc(100% - 40%)"),b.data("emailModal").find(".email-dialog-position").css("padding-inline","55px"),b.data("emailModal").find("#formTitle").hide(),b.data("emailModal").find("#alertTitle").show(),k.hasClass("table-button-blue")&&0===$(".stm32-software-downloads").length&&k.text(CQ.I18n.getMessage("Download latest ((get-software))")),k.removeClass("license-skip"),k.addClass("email-alert")):B(b):B(b):B(b)}).fail(function(){B(b)});a.preventDefault();return!0}function qa(a,b,c){var d=a.data("software-prmis-id"),
f=a.data("user-email"),m=a.data("keep-informed"),k=CQ.I18n.getLocale()||"en",r=a.data("product-item-name");W3C.CookieFunctions.setCookieWithoutOneTrustCheck("emailSent_"+r,"emailHasBeenSent_"+r,1);W3C.CookieFunctions.setCookieWithoutOneTrustCheck("statusDownload","first_download_email_sent",9E3);var n={softwaredownloadsource:FORM,sendEmail:!0,softwaredownloadproductpreference:m},q=w(a,n,MKTO_LIGHT_INITIATED_SW_FORM);if(null===q)return B(a),e.preventDefault(),!0;$.ajax({type:"POST",url:"/bin/st/dl-software-link",
async:!1,data:{userEmail:f,id:d,path:c,downloadPathEncrypted:b,keepInformed:m,akamaiCountryCode:$("#"+MKTO_LIGHT_INITIATED_SW_FORM).find('input[name\x3d"akamaiCountryCode"]').val(),mktoData:JSON.stringify(q),stFirstName:"",stLastName:"",locale:k}}).done(function(t){t?void 0!==t.success?!0===t.success?(q.softwaredownloadurl=t.path,q[OPTIN_EMAIL_FLAG]=n.softwaredownloadproductpreference,K(q),setTimeout(function(){var v=a.find("#gatherEmail");v.css("display","inherit");var y=a.find("#emailSentModal");
y.modal("show");a.find("#emailSentModal").is(":visible")||(y.modal("show"),!y.is(":visible")&&isDevzonePattern.test(window.location.pathname)&&y.detach().appendTo("body"));v.hasClass("table-button-blue")&&0===$(".stm32-software-downloads").length&&v.text(CQ.I18n.getMessage("Download latest ((get-software))"));v.removeClass("license-skip");v.removeClass("license-accept");v.addClass("email-alert")},250)):B(a):B(a):B(a)}).fail(function(){B(a)});return!0}function B(a){var b=a.data("emailModal")||a.find("#emailModal");
b.modal("toggle");b.find(".descriptions").hide();b.find(".light-registration-form").css("display","none");b.find("#formTitle").hide();a.find("#gatherEmail").removeClass("license-skip");b.find(".email-failure").show()}STFED.getSoftwareDialog={startSoftwareDownload:u,showValidationModalAndInsertFields:P,startLmuSoftwareDownload:p};var E=$("#downloadFailModal"),Q="",C=!0,J=!1,aa=-1!==document.cookie.indexOf("stOneTrustReloadPerformed\x3dtrue");!window.performance||aa||1!==performance.navigation.type&&
2!==performance.navigation.type||(C=!1);aa&&(document.cookie="stOneTrustReloadPerformed\x3dfalse; Max-Age\x3d0; Path\x3d/; Domain\x3d"+window.location.host);var ra=$("#cookieAlertModal"),D={init:$.Event("download.init"),start:$.Event("download.start")},T={},ba=l($(this).data("product-item-name")),L=0;window.STFED=STFED||{};STFED.getSoftware=STFED.getSoftware||{};STFED.getSoftware.initSoftwareButtons=function(a){a=$(a||document).find(".gscontent");if(0<a.length){a.each(function(){if($(this).data("light-registration-required")&&
$(this).data("download-allowed"))return W($(this)),!1});var b=!1;a.each(function(){if(!$(this).data("initialized")){$(this).attr("data-initialized",!0);$(this).attr("data-change-button-id",!1);$(this).data("light-registration-required")&&(J||(J=W($(this))),$(this).data("download-allowed")||J?($(this).find("#lightDownloadAllowed").show(),$(this).find("#lightDownloadNotAllowed").remove()):($(this).data("change-button-id",!0),$(this).find("#lightDownloadAllowed").remove(),$(this).find("#lightDownloadNotAllowed").show()));
$(this).data("can-be-downloaded-from-email")&&(Q=$(this));var c=$(this).find("#gatherEmail");void 0!==c&&0<c.length&&c.hasClass("table-button-blue")&&ba&&0===$(".stm32-software-downloads").length&&c.text(CQ.I18n.getMessage("Download latest ((get-software))"));c=$(this).data("product-item-name");var d=$(this).data("software-release"),f=-1!==window.location.href.indexOf(".product\x3d"+c+".")&&-1!==window.location.href.indexOf(".version\x3d"+d+".");0==f&&(f=-1!==STUtils.getCookieByName(productCookieName)&&
void 0!=STUtils.getCookieByName(productCookieName)&&STUtils.getCookieByName(productCookieName)==c&&-1!==STUtils.getCookieByName(versionCookieName)&&void 0!=STUtils.getCookieByName(versionCookieName)&&STUtils.getCookieByName(versionCookieName)==d);d=$(this).data("registration-type");if(C){M();var m=$(this).data("reg-required-link-path"),k=$(this).data("email-validated"),r=$(this).attr("data-email-validated"),n=$(this).attr("data-validation-error");if(b)return;var q=(new window.URLSearchParams(window.location.search)).get("dl");
if(d===LIGHT_REGISTRATION_TYPE&&(f||null!==q)){var t="undefined"!==typeof m&&-1!==m.indexOf(".product\x3d"+c+".")&&-1!==m.indexOf(".license");null!==q&&W3C.CookieFunctions.setCookieWithoutOneTrustCheck("dl",q,9E3);if(t){b=!0;c=$("#"+localStorage.getItem("scriptId")).parent();0<c.length?u(c,LINK):u($(this),LINK);N();return}if(!k||"false"===r||n.length){f="";"false"===r&&(f=$("[data-i18n-gscontent-emailinvalid]").attr("data-i18n-gscontent-emailinvalid")||CQ.I18n.getMessage("Warning: your email address has not yet been validated.\x3cbr\x3ePlease validate it before proceeding with the download."));
"emptyLink"===n&&(f=$("[data-i18n-gscontent-emptylink]").attr("data-i18n-gscontent-emptylink")||CQ.I18n.getMessage("Warning: The code in the confirmation email you are using is empty. Please double-check in case of copy-paste, or request a new link on the software download page."));"linkExpired"===n&&(f=$("[data-i18n-gscontent-linkexpired]").attr("data-i18n-gscontent-linkexpired")||CQ.I18n.getMessage("Warning: The code in the confirmation email you are using has expired. Please request a new URL on the software download page."));
"invalidCookie"===n&&(f=$("[data-i18n-gscontent-invalidcookie]").attr("data-i18n-gscontent-invalidcookie")||CQ.I18n.getMessage("Warning: you are probably using a different browser to open the download link versus the browser used to request the software download. Please ensure to use the same browser. If the issue persists, please check your cookie settings."));"invalidLink"===n&&(f=$("[data-i18n-gscontent-invalidlink]").attr("data-i18n-gscontent-invalidlink")||CQ.I18n.getMessage("Warning: The code in the confirmation email you are using is invalid. Please request a new URL on the software download page."));
E.hasClass("in")||($(".gs-fail-dialog-msg").html(f),E.data("product-item-name",c),E.modal("toggle"),c={softwaredownloadsource:FAILED_DOWNLOAD},x($(this),c,null));return}}if(f&&d===FULL_REGISTRATION_TYPE&&"undefined"!==typeof m&&(-1!==m.indexOf(".license")||void 0!==STUtils.getCookieByName(licenseCookieName))){b=!0;u($(this),LINK);N();return}r=$(this).data("start-download-if-user-logged-in");(f||null!==q&&"undefined"!==typeof m&&-1!==m.indexOf(".product\x3d"+c+"."))&&d===LMU_REGISTRATION_TYPE&&"undefined"!==
typeof r&&r&&(void 0!==STUtils.getCookieByName(licenseCookieName)||-1!==window.location.href.indexOf(".license")||null!==q)&&(null!==q&&W3C.CookieFunctions.setCookieWithoutOneTrustCheck("dl",q,9E3),b=!0,p($(this)))}c=$(this).data("show-validation-modal");f&&d===LMU_REGISTRATION_TYPE&&"undefined"!==typeof c&&c&&(void 0!==STUtils.getCookieByName(licenseCookieName)||-1!==window.location.href.indexOf(".license"))&&f&&(M(),P($(this)),N())}})}};STFED.getSoftware.initSoftwareButtons();var U=function(){var a=
CQ.I18n.getLocale();"undefined"===typeof a&&(a="en");return a},pa=function(a){return void 0===a?!1:void 0===a.attr("data-invalid")&&""!==a.val()};licenseAcceptClicked=function(a,b){a&&(a.stopPropagation(),a.preventDefault());a=getsw_getGsContent($(b));var c=l(a.data("product-item-name"));$(b).hasClass("pending")||"undefined"!==a.find("#gatherEmail")&&c?a.find("#emailModal").modal("toggle"):STUtils.isCookieEnabledInBrowser()?(b=a.data("licenseModal")||a.find("#licenseModal"),STFED.isMaliciousVPN||
b.modal("toggle")):ra.modal("toggle")};initNewTableRow=function(a,b){var c=(new URLSearchParams(window.location.search)).has("dl"),d=getsw_getGsContent($(b)),f=d.find("#dlLink");if(!c||f.length||swDownloadNotAvaible)licenseAcceptClicked(a,b);else{c=d.closest("td").find(".gscontent").first();b=d.closest("tr");var m=d.find("#gatherEmail").data("version"),k=c.find("#gatherEmail");d=W3C.CookieFunctions.getCookieWithoutValidation("getSwEmail");f=k.data("id");var r=k.data("path");k=k.data("download-path-encrypted");
c=w(c,{softwaredownloadsource:FORM,sendEmail:!0,softwaredownloadproductpreference:!1},MKTO_LIGHT_INITIATED_SW_FORM);if(null===c)return licenseAcceptClicked(a,this),null==a||a.preventDefault(),!0;var n=b.find(".getsw_selectmenu_temp_init");n.length&&n.append('\x3cdiv class\x3d"getsw_selectmenu_loading_temp" style\x3d"display: block; top: 8px"\x3e\x3cdiv class\x3d"st-loading-spinner"\x3e\x3c/div\x3e\x3c/div\x3e');$.ajax({type:"POST",url:"/bin/st/dl-software-link",async:!1,data:{userEmail:d,id:f,path:r,
downloadPathEncrypted:k,keepInformed:!1,akamaiCountryCode:$("#"+MKTO_LIGHT_INITIATED_SW_FORM).find('input[name\x3d"akamaiCountryCode"]').val(),mktoData:JSON.stringify(c),stFirstName:"",stLastName:"",dl_req:""}}).then(function(q){q&&q.path?(q=new URL(q.path),ma(q.search,m)):n.length&&n.find(".getsw_selectmenu_loading_temp").remove()}).fail(function(q){n.length&&n.find(".getsw_selectmenu_loading_temp").remove()})}};$(document).on("click",".license-accept",function(a){var b=(new URLSearchParams(window.location.search)).has("swdl"),
c=getsw_getGsContent($(this)),d=c.find("#dlLink");ca(a,c);b&&!d.length&&C?initNewTableRow(a,this):licenseAcceptClicked(a,this)});$(document).on("click",".cs-modal-close",function(){getsw_getGsContent($(this)).data("licenseModal").modal("toggle")});$(document).on("click",".license-skip",function(a){a.preventDefault();var b=getsw_getGsContent($(this));ca(a,b);a=b.find("#initLightDownload");var c=b.find("#gatherEmail"),d=b.find("#lmuValidation"),f=b.find("#initDownload"),m=b.find("#regRequired");b.data("product-item-name");
void 0!==a&&0<a.length?b.data("licenseModal").modal("toggle"):void 0!==c&&0<c.length?(b.data("loginOrCreateAccountModal")||b.find("#loginOrCreateAccountModal")).modal("toggle"):void 0!==d&&0<d.length?P(b):void 0!==f&&0<f.length?(a=f.data("id"),c=b.find("#dlLink").data("download-path"),void 0!==c&&""!==c&&x(b,{softwarePrmisId:a,touFlag:"",manuallyValidated:!1,softwaredownloadurl:c},null)):void 0!==m&&0<m.length&&(b=m.data("reg-path"),void 0!==b&&""!==b&&(window.location.href=b))});$(document).on("click",
".email-login",function(){var a=getsw_getGsContent($(this));a.data("emailChoiceModal").modal("hide");a.data("emailModal").modal("hide");var b=a.find("#gatherEmail");a=b.data("reg-path");var c=b.data("software-button-for-product"),d=b.data("version");if(void 0!==a&&""!==a){b=a.indexOf("license");var f=a.substring(b).split("."),m=f[0].split("\x3d")[1];c=c?c:f[1].split("\x3d")[1];d=d?d:f[2].split("\x3d")[1]+"."+f[3]+"."+f[4];STUtils.setCookieByName(productCookieName,c);STUtils.setCookieByName(licenseCookieName,
m);STUtils.setCookieByName(versionCookieName,d);document.querySelector(".stm32-software-downloads.get-software")?window.location.href=a:(console.log("creating the cookies before redirecting"),window.location.href=a.substring(0,b)+"html")}});$(document).on("click",".email-form",function(){var a=getsw_getGsContent($(this));a.data("emailChoiceModal").modal("hide");a.data("emailModal").modal("toggle")});$(document).on("click",".email-alert",function(){getsw_getGsContent($(this)).data("emailAlertModal").modal("toggle")});
$(document).on("change","#userLMUApplication",function(){var a=$("#validationModal");a.find(".sub-app-container").css("display","none");$("#userLMUSubApplication").children(".sub-app-container").removeClass("error");var b=$("#userLMUApplication").val(),c=$("#defaultSubApplications");void 0===b||""===b?(c.parent().css("display","inherit"),a.find(".sub-app-container select[required]").removeAttr("required")):(b=b.substring(b.indexOf(",")+1,b.length),b=b.substring(0,b.indexOf(",")),a=$("#"+b),a[0]?(a[0].setAttribute("required",
""),a.parent().css("display","inherit"),""===a.val()&&a.parent().addClass("error")):c.parent().css("display","inherit"));STFED.foundation.init()});$(document).on("change",".sub-app-container select",function(){var a=$(this);""===a.val()?a.parent().addClass("error"):(a.parent().removeClass("error"),a.attr("data-invalid","false"),a.attr("aria-invalid","false"))});$(document).on("change","#userLMUTCAccept",function(){var a=$(this),b=$("#validationSubmit");a.parent().removeClass("error");a.is(":checked")?
(b.prop("disabled",!1),b.removeProp("title",null)):(b.prop("disabled",!0),b.prop("title",b.attr("data-title")))});$(document).on("click","#validationSubmit",function(a){var b=$("#validationModal").attr("data-software-prmis-id"),c=$("#validationModal").attr("data-software-release");b=$(".gscontent[data-software-prmis-id\x3d'"+b+"'][data-software-release\x3d'"+c+"']");$("#userLMUTCAccept").is(":checked")&&sa(a,b)});$(document).on("click","#validateButton",function(){return!1});$(document).on("click",
"#emailSubmit",function(a){Z(a,getsw_getGsContent($(this)))});$(document).ready(function(a){var b=W3C.CookieFunctions.getCookieWithoutValidation("statusDownload");a=window.location.href.split("?")[0].split(".html")[0];var c=$("#"+localStorage.getItem("scriptId")).parent();W3C.CookieFunctions.setCookieWithoutOneTrustCheck("downloadlinkregister","",1);var d=JSON.parse(localStorage.getItem("formData"));"first_download_form_submitted"===b?(b=localStorage.getItem("downloadPathEncrypted"),c.attr("data-user-given-name",
d.givenName),c.attr("data-user-family-name",d.familyName),c.attr("data-user-email",d.userEmail),c.attr("data-keep-informed",d.keepMeInformed),qa(c,b,a),localStorage.removeItem("formData")):"second_download_form_submitted"===b&&localStorage.removeItem("formData")});$(document).on("keypress","#givenName, #familyName, #userEmail",function(a){13===a.keyCode&&Z(a,getsw_getGsContent($(this)))});$(document).on("click","#startOver",function(a){var b=getsw_getGsContent($(this));R(a,b)});$(document).on("click",
"#startOver2",function(a){var b=E.data("product-item-name");b=$(".gscontent[data-product-item-name\x3d"+b+"]");R(a,b);W3C.CookieFunctions.setCookieWithoutOneTrustCheck("light_approvals","",1);window.location.href=window.location.href.split("?")[0]});var R=function(a,b){ba=!1;W3C.CookieFunctions.setCookieWithoutOneTrustCheck("emailSent_"+b.data("product-item-name"),"",1);b.find(".descriptions").show();b.find(".light-registration-form").css("display","");b.find(".email-success").css("display","none");
b.data("emailModal").find(".email-dialog-container").css("width","544px");b.data("emailModal").find(".email-dialog-position").css("padding-bottom","unset");b.data("emailModal").find(".email-dialog-position").css("padding-inline","unset");b.find("#formTitle").show();b.find("#alertTitle").hide();a=b.find("#gatherEmail");a.hasClass("table-button-blue")&&a.text(CQ.I18n.getMessage("Get Software"));a.addClass("license-accept");a.removeClass("email-alert");b.find(".btn-close-panel").click()},ca=function(a,
b){W3C.CookieFunctions.getCookieWithoutValidation("statusDownload")&&""!==W3C.CookieFunctions.getCookieWithoutValidation("statusDownload")&&!W3C.CookieFunctions.getCookieWithoutValidation("getSwEmail")&&(console.log("there are download status cookies but no email cookie"),W3C.CookieFunctions.setCookieWithoutOneTrustCheck("statusDownload","",1),R(a,b),window.location.href=window.location.href.split("?")[0])},sa=function(a,b){var c=$("#validationModal"),d=$("#userLMUTitle"),f=$("#userLMUDescription"),
m=$("#userLMUApplication"),k=c.find(".sub-app-container").filter(":visible").children("select"),r=$("#userLMUBusiness"),n=$("#userLMUMilitary"),q=$("#userLMUCountry"),t=$("#userLMUTCAccept"),v=$("#userLMUInform");c.find(".email-failure").css("display","none");t=oa(b,d,f,m,k,r,n,q,t);if(0<t.length){for(a=0;a<t.length;a++)v=t[a],v.attr("data-invalid",""),v.attr("aria-invalid","true"),"radio"===v.attr("type")&&v.parent().addClass("error");return!1}t=d.val()+"~";t+=f.val()+"~";m=m.val();d=m.substr(m.indexOf(",")+
1,m.length);f=d.substr(0,d.indexOf(","));t+=f+"~";m=d.substr(d.indexOf(",")+1,m.length);t+=m+"~";k=1!==$("#defaultSubApplications").parent().filter(":visible").length?k.val():"";t=t+(k+"~")+($("#"+f).find("option:selected").text()+"~");t+=r.find("option:selected").text()+"~";t+=n.val()+"~";t+=q.val();k=b.find("#lmuValidation");var y=k.data("cpn-id");r=k.data("path");n=$(".email_profile").data("profile");q=$(".email_profile").data("samname");var A=v.is(":checked");k.addClass("pending").removeClass("license-accept");
k.hasClass("table-button-blue")&&k.text(CQ.I18n.getMessage("Validating"));v={softwaredownloadsource:FORM,sendEmail:!0,softwaredownloadproductpreference:A};v=S(v,b,MKTO_LMU_INITIATED_SW_FORM);if(null===v)return!1;$.ajax({type:"POST",url:"/bin/st/lmu-create-order",data:{id:y,locale:U(),path:r,input:t,userPath:n,inform:A,userSamAccount:q,mktoData:JSON.stringify(v),customObjectData:CustomActivities.getCustomActivityData(),stFirstName:c.find("#stFirstName").val(),stLastName:c.find("#stLastName").val()}}).done(function(z){if(z&&
z.result&&z.result.success&&!0===z.result.success){V(z.preferencesIDs);var F={softwaredownloadsource:FORM,softwaredownloadurl:z.path,softwaredownloadislmu:!0,sendEmail:!0,softwaredownloadproductpreference:A};F[OPTIN_EMAIL_FLAG]=A;x(b,F,MKTO_LMU_INITIATED_SW_FORM);c.find(".light-registration-form").css("display","none");c.find(".email-success").css("display","inherit");c.find(".email-dialog-container").css("width","794px");b.data("emailModal").find(".email-dialog-position").css("padding-bottom","calc(100% - 40%)");
b.data("emailModal").find(".email-dialog-position").css("padding-inline","55px");var H;z=null==z?void 0:null==(H=z.userid)?void 0:H.replace(/[^a-zA-Z0-9]/g,"");W3C.CookieFunctions.appendCookieWithoutValidation("init_lmu_"+z,na(y),2)}}).fail(function(){validationModal.find(".light-registration-form").css("display","none");validationModal.find(".page-header").css("display","none");validationModal.find(".email-failure").css("display","inherit")});a.preventDefault();return!0};$(document).on("click","#validationCancel",
function(a){$("#validationModal").modal("toggle");a.preventDefault();return!0});$(document).on("click change keyup",".light-registration-form",function(a){if(!a.currentTarget.isFormStarted){var b=$(a.target);b.is("select, input, button")&&"undefined"!==typeof _satellite&&_satellite.track("ctaFormStarted",{formName:"Light registration form | "+(null==b.closest(".gscontent").data("software-description")?"":b.closest(".gscontent").data("software-description"))});a.currentTarget.isFormStarted=!0}});var da=
function(a){var b=decodeURIComponent(window.location.search.substring(1)).split("\x26"),c;for(c=0;c<b.length;c++){var d=b[c].split("\x3d");if(d[0]===a)return void 0===d[1]?!0:d[1]}};windowOnloadGetSwFn=function(){function a(){$(document).find(".gscontent").each(function(){var d=$(this).find("#gatherEmail");0<d.length&&d.each(function(){this.id="initLightDownload"})})}if(""!==Q){var b=Q.find("#startDownload").data("dl-path");void 0!==b&&""!==b&&C&&a()}$(document).find(".gscontent").each(function(){$(this).data("dl-link-available")||
J||$(this).find("#dlLink").remove();$(this).data("cookieAlertModal",$(this).find("#cookieAlertModal"));$(this).data("emailModal",$(this).find("#emailModal"));$(this).data("emailModalNew",$(this).find("#emailModalNew"));$(this).data("loginOrCreateAccountModal",$(this).find("#loginOrCreateAccountModal"));$(this).data("secondDownloadCreateAccountModal",$(this).find("#secondDownloadCreateAccountModal"));$(this).data("secondDownloadUpdateModal",$(this).find("#secondDownloadUpdateModal"));$(this).data("emailAlertModal",
$(this).find("#emailAlertModal"));$(this).data("emailSentModal",$(this).find("#emailSentModal"));$(this).data("emailChoiceModal",$(this).find("#emailChoiceModal"));$(this).data("licenseModal",$(this).find("#licenseModal"));$(this).data("licenseModalNew",$(this).find("#licenseModalNew"));$(this).find(".accept-license, .decline-license",".download-guest-text").data("gsContent",$(this))});var c=da("softwareProduct");"undefined"!==typeof c&&c&&(softwareProductParameterInterval=setInterval(function(){var d=
$("a[data-software-button-for-product\x3d'"+c+"']");if(d&&0<d.length&&STFED.getSwTableReady){clearInterval(softwareProductParameterInterval);var f=da("softwareVersion");d=(f=f?d.filter("[data-version\x3d'"+f+"']"):void 0)&&0<f.length?f[0]:d[0];640>window.innerWidth&&$(d).closest(".gscontent").closest("td").closest("tr").find(".datatable-initialized.control").click();d.click()}},100))};"complete"===document.readyState&&!isGetSwDlFlow()||window.readyForSoftwareVersion?windowOnloadGetSwFn():window.addEventListener("load",
function(){windowOnloadGetSwFn()});STFED.ifCountryRestricted&&void 0!==STFED.ifCountryRestricted[gsContent.data("sw-id")]&&STFED.ifCountryRestricted[gsContent.data("sw-id")]&&$(".js-get-software-restricted-check").each(function(){if($(this).length){var a=$(this).data("id");a&&STFED.ifCountryRestricted[a]&&setupRestrictedButton($(this))}});$('.table-sample-and-buy th:contains("GitHub link"), .solution-widget-table th:contains("GitHub link")').each(function(){if($(this).length){$(this).width(100);var a=
$(this).closest("table").find("tr td:nth-child("+($(this).index()+1)+")");if(a.length){var b=!1;a.each(function(){var c=$(this).text().trim();5<c.length?(b=!0,STFED.ifCountryRestricted?$(this).html('\x3ca target\x3d"_blank" class\x3d"table-button-grey-disabled"\x3e'+Granite.I18n.get(STFED.notAvailableForDownloadText)+"\x3c/a\x3e"):$(this).html('\x3ca target\x3d"_blank" class\x3d"table-button-blue" href\x3d"'+c+'"\x3e'+Granite.I18n.get("Get from GitHub")+"\x3c/a\x3e")):$(this).html("");$(this).width(100)});
b||($(this).remove(),a.remove())}}});$.fn.initDataTableRecalc=function(){return $(this).each(function(){function a(){var b=$(this).DataTable();b&&(b.rows().invalidate().draw(),b.responsive.recalc().draw())}$(this).on("table.recalculate",a);a.call(this)})}},switchToGetSwTableContentTabIfLastStep=function(){var h=$(".table-sample-and-buy.get-software").closest("[data-page-content]");currentURL=document.location.href;h.is(":visible")||("complete"===document.readyState?(STFED.navigationTabs.openPageTab(h.attr("data-page-content")),
currentURL.includes("#st-get-software")||(currentURL=currentURL.split("#")[0],document.location.href=currentURL+"#st-get-software")):window.addEventListener("load",function(){STFED.navigationTabs.openPageTab(h.attr("data-page-content"));currentURL.includes("#st-get-software")||(currentURL=currentURL.split("#")[0],document.location.href=currentURL+"#st-get-software")},!1))},isGetSwLastStepFlow=function(){return void 0!==STUtils.getCookieByName(licenseCookieName)||-1<window.location.href.indexOf(".license")||
isGetSwDlFlow()||isGetSwNameVersionSpecified()||isFormSubmitted()},isGetSwDlFlow=function(){return-1<window.location.href.indexOf("?dl\x3d")},isGetSwNameVersionSpecified=function(){-1<window.location.href.indexOf("?softwareProduct\x3d")&&(STUtils.deleteCookieByName(productCookieName),STUtils.deleteCookieByName(licenseCookieName),STUtils.deleteCookieByName(versionCookieName));return-1<window.location.href.indexOf("?softwareProduct\x3d")},isFormSubmitted=function(){var h=W3C.CookieFunctions.getCookieWithoutValidation("statusDownload");
return"first_download_form_submitted"===h||"second_download_form_submitted"===h},getsw_setup_interval,getsw_setup_pre_interval,getsw_mobile_datatable_subrow_opening_interval,scrollBtnSetup=function(){var h=document.querySelectorAll(".table-button-blue.st-magento.js-get-software-restricted-check"),g=document.querySelector(".js-show-btn-github"),l=document.querySelectorAll(".js-st-scroll-to-section.st-magento.js-get-software-restricted-check");(h.length||void 0!==g&&null!==g)&&l.length&&l.forEach(function(u){u.insertAdjacentHTML("afterend",
"\x3ca class\x3d'getsw_scrollbutton_temp'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e");var p=u.nextElementSibling;p&&(p.className="getsw_scrollbutton_temp "+u.className,p.classList.remove("js-get-software-restricted-check"),p.title=u.title,p.dataset.href=u.dataset.href,p=p.querySelector("span"),u=u.querySelector("span"),p&&u&&(p.textContent=u.textContent))})},initDownloadScripts=function(){document.body.insertAdjacentHTML("beforeend","\x3cimg src\x3d'/etc/clientlibs/st-site-cx/media/app/images/loading-spinner.svg' style\x3d'display: none;'\x3e");
if(isGetSwLastStepFlow()){switchToGetSwTableContentTabIfLastStep();var h=getCPNSoftware();h=Object.values(h);for(var g in h)geoLocationCheck(h[g]);l=new MutationObserver(function(){"undefined"===typeof STFED.ipAddress||0===STFED.ipAddress.length||!("undefined"!==typeof STFED.ifCountryRestricted&&0!==STFED.ifCountryRestricted.length||"undefined"!==typeof STFED.notAvailableForDownloadText&&0!==STFED.notAvailableForDownloadText.length)||"undefined"===typeof STFED.ipGeolocatedCountry&&0===STFED.ipGeolocatedCountry.length||
0!==document.querySelectorAll(".getsw-table-loading-phase").length||(getsw_setup(),l.disconnect())})}else var l=new MutationObserver(function(){0===document.querySelectorAll(".getsw-table-loading-phase").length&&(getsw_setup(),document.body.insertAdjacentHTML("beforeend","\x3cdiv class\x3d'getsw_modal_temp'\x3e\x3cdiv class\x3d'modal-open modal'\x3e\x3cdiv class\x3d'getsw_modal_temp_close'\x3ex\x3c/div\x3e\x3cdiv class\x3d'getsw_modal_temp_text'\x3e\x3cdiv class\x3d'popup-title'\x3e\x3c/div\x3e \x3cdiv class\x3d'button-row'\x3e\x3cbutton class\x3d'getsw_modal_temp_button_close' href\x3d'#' data-dismiss\x3d'modal'\x3e"+
Granite.I18n.get("ok ((get-software))")+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'st-loading-spinner'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"),Array.from(document.querySelectorAll(".js-get-software-restricted-check:not(.js-st-scroll-to-section):not(.table-button-blue)")).forEach(function(u){return u.style.display="block"}),document.querySelectorAll(".table-button-blue.st-magento.js-get-software-restricted-check").length&&(gscontents_init(),getsw_dt_detail_button_init()),l.disconnect())});
l.observe(document,{childList:!0,subtree:!0});scrollBtnSetup()},gscontents_init=function(h){h=h||document;gscontents=$(".gscontent, [data-ds-button\x3d'gotosite-software']",h);gscontents.each(function(g,l){l=$(l);var u=!1;if(0===l.closest(".msw-selectversionbutton-content").length){l.closest("td").append("\x3ca class\x3d'table-button-blue st-flex-order--all-1 st-magento getsw_button_temp_"+g+"'\x3e\x3c/a\x3e");var p=l.find(".js-get-software-restricted-check")[0];p||(p=l[0]);$(".getsw_button_temp_"+
g).text($(p).text());_.forEach(p.attributes,function(x){x.name.match("^data-")&&$(".getsw_button_temp_"+g).attr(x.name,$(p).attr(x.name))})}else if(!l.closest("td").hasClass("getsw_selectmenu_temp_init")){l.closest("td").addClass("getsw_selectmenu_temp_init");u=!0;var w=l.closest("td").find(".msw-selectversionbutton");l.closest("td").append('\x3cdiv class\x3d"getsw_selectmenu_loading_temp"\x3e\x3cdiv class\x3d"st-loading-spinner"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"msw-selectversionbutton getsw_button_temp_'+
g+'" style\x3d"display: block;"\x3e \x3cdiv class\x3d"msw-selectversionbutton-buttontext"\x3e'+w.text()+'\x3c/div\x3e \x3ci class\x3d"softwareversionicon fa fa-angle-down"\x3e\x3c/i\x3e \x3c/div\x3e');w.hide()}$(".getsw_button_temp_"+g).on("click",function(){var x=$(".getsw_button_temp_"+g).data("id");getsw_checks_logical(g,u,!1,x)});$(".getsw_button_temp_"+g).attr("data-getsw-button-temp-index",g);$(".getsw_button_temp_"+g).attr("data-getsw-button-temp-select",u)})},getsw_dt_detail_button_init=function(){$("td.datatable-initialized").click(function(h){setTimeout(function(){if($(h.target).closest("tr").next().hasClass("child")){var g=
$(h.target).closest("tr").next();g=$("[class*\x3d'getsw_button_temp_']",g);gscontents=gscontents||[];gscontents.push({table:g.closest("table")[0],tr_index:g.closest("tr.child").index()});g.on("click",function(l){getsw_checks_logical(gscontents.length-1,"true"===$(l.target).attr("data-getsw-button-temp-select"),!0)})}},0)})},getsw_checks_logical=function(h,g,l,u){g&&$(".getsw_selectmenu_loading_temp").length?$(gscontents[h]).closest("td").find(".getsw_selectmenu_loading_temp").show():$(".getsw_modal_temp").show();
getsw_temp_interval||(getsw_temp_interval=setInterval(function(){if("undefined"!==typeof STFED.ifCountryRestricted&&0!==STFED.ifCountryRestricted.length&&"undefined"!==typeof STFED.ipGeolocatedCountry)if(clearInterval(getsw_temp_interval),$(".getsw_selectmenu_loading_temp").remove(),STFED.ifCountryRestricted[u])$(".getsw_modal_temp").show(),$(".js-get-software-restricted-check[data-id\x3d'"+u+"']").remove(),$(".getsw_modal_temp_close").on("click",function(){$(".getsw_modal_temp").hide()}),$(".getsw_modal_temp_button_close").on("click",
function(){$(".getsw_modal_temp").hide()}),$(".getsw_modal_temp .st-loading-spinner").remove(),$(".getsw_modal_temp_close").show(),$(".getsw_modal_temp_text").show(),$(".getsw_modal_temp_text .popup-title").text(Granite.I18n.get(STFED.notAvailableForDownloadText));else{var p=l?$(gscontents[h].table).find("tbody tr:nth-child("+(gscontents[h].tr_index+1)+")").find(".gscontent"):$(gscontents[h]);if(g)p.closest("td").find(".msw-selectversionbutton").click();else if(p.find(".js-get-software-restricted-check").length)p.find(".js-get-software-restricted-check").hasClass("license-accept")?
licenseAcceptClicked(null,p.find(".js-get-software-restricted-check")[0]):p.find(".js-get-software-restricted-check").click();else if(p.attr("href")&&!p.attr("data-getswlink-temp-init")){p.attr("data-getswlink-temp-init","true");var w=p.attr("href");p.removeAttr("href");p.on("click",function(){window.open(w,"_blank")});setTimeout(function(){p.click()},0)}}},100),setTimeout(function(){geoLocationCheck(u)},100))};
$(document).ready(function(){function h(g,l){g.addClass("collapseoptions");g.css("max-height","0");l&&$(l).css("z-index","")}$(document).on("click",function(){$(".msw-selectversionbutton-content").each(function(){h($(this),$(this).data("parent"))})});$(document).on("click",".msw-selectversionbutton:not([class*\x3d'getsw_button_temp_'])",function(g){g.stopPropagation();var l=$(g.target);l.is(".msw-selectversionbutton:not([class*\x3d'getsw_button_temp_'])")||(l=l.closest(".msw-selectversionbutton:not([class*\x3d'getsw_button_temp_'])"));
g=l.next(".msw-selectversionbutton-content");l=l.parent();$(".msw-selectversionbutton-content").not(g).each(function(){h($(this),$(this).data("parent"))});$(".msw-selectversionbutton:not([class*\x3d'getsw_button_temp_'])").parent().css("z-index","");STFED.getSoftware.initSoftwareButtons(g);g.hasClass("collapseoptions")?(g.removeClass("collapseoptions"),g.css("max-height","100px"),g.css("z-index","10008"),l.css("z-index","10007"),g.data("parent",l)):h(g,l)})});